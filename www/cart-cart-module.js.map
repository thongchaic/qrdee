{"version":3,"sources":["webpack:///./src/app/cart/cart.module.ts","webpack:///./src/app/cart/cart.page.html","webpack:///./src/app/cart/cart.page.scss","webpack:///./src/app/cart/cart.page.ts","webpack:///./src/app/cart/list/list.component.html","webpack:///./src/app/cart/list/list.component.scss","webpack:///./src/app/cart/list/list.component.ts","webpack:///./src/app/cart/price/price.component.html","webpack:///./src/app/cart/price/price.component.scss","webpack:///./src/app/cart/price/price.component.ts","webpack:///./src/app/cart/qrmodal/qrmodal.component.html","webpack:///./src/app/cart/qrmodal/qrmodal.component.scss","webpack:///./src/app/cart/qrmodal/qrmodal.component.ts"],"names":[],"mappings":"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","file":"cart-cart-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { SharedModule } from '../shared/shared.module';\r\n// import { BarcodeScanner } from '@ionic-native/barcode-scanner/ngx'\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CartPage } from './cart.page';\r\nimport { PriceComponent } from './price/price.component';\r\nimport { ListComponent } from './list/list.component';\r\n\r\nimport { CartService } from './shared/cart.service';\r\nimport { QrmodalComponent } from './qrmodal/qrmodal.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CartPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    SharedModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [\r\n    CartPage,\r\n    PriceComponent,\r\n    ListComponent,\r\n    QrmodalComponent\r\n  ],\r\n  entryComponents: [\r\n    QrmodalComponent\r\n  ],\r\n  providers: [\r\n    CartService,\r\n    // BarcodeScanner\r\n  ]\r\n})\r\nexport class CartPageModule {}\r\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>รับชำระเงิน</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <app-price\\r\\n    [price]=\\\"price\\\">\\r\\n  </app-price>\\r\\n  <app-list \\r\\n    [cart]=\\\"cart\\\" \\r\\n    (removeFromCartChange)=\\\"removeFromCart($event)\\\">\\r\\n  </app-list>  \\r\\n</ion-content>\\r\\n\\r\\n<ion-footer>\\r\\n  <ion-button expand=\\\"full\\\" color=\\\"primary\\\" (click)=\\\"newTransaction()\\\">ชำระเงินด้วย QR Code</ion-button>\\r\\n</ion-footer>\\r\\n\"","module.exports = \"ion-footer {\\n  background: white; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY2FydC9DOlxcRGV2XFxxcmRlZS9zcmNcXGFwcFxcY2FydFxcY2FydC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxpQkFBaUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2NhcnQvY2FydC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tZm9vdGVyIHtcclxuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxufSJdfQ== */\"","import { Component } from '@angular/core';\r\nimport { CartService } from './shared/cart.service';\r\nimport { TransactionService } from '../shared/services/transaction.service';\r\nimport { ToastService } from '../shared/services/toast.service';\r\nimport { AlertService } from '../shared/services/alert.service';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { QrmodalComponent } from './qrmodal/qrmodal.component';\r\nimport { QrService } from '../shared/services/qr.service';\r\n\r\n@Component({\r\n  selector: 'app-cart',\r\n  templateUrl: './cart.page.html',\r\n  styleUrls: ['./cart.page.scss'],\r\n})\r\nexport class CartPage {\r\n\r\n  cart: any;\r\n  price: number = 0;\r\n\r\n  constructor(\r\n    private cartService: CartService,\r\n    private transactionService: TransactionService,\r\n    private toastService: ToastService,\r\n    private alertService: AlertService,\r\n    private qrService: QrService,\r\n    private modalController: ModalController\r\n  ) { }\r\n\r\n  ionViewWillEnter() {\r\n    this.getCart();\r\n  }\r\n\r\n  newTransaction() {\r\n    this.alertService.showAlert({\r\n      header: 'คุณต้องการชำระเงินด้วย QR Code ใช่หรือไม่',\r\n      sub_header: '',\r\n      message: '',\r\n      buttons: [\r\n        {\r\n          text: 'ยกเลิก',\r\n          role: 'cancel'\r\n        },\r\n        {\r\n          text: 'ตกลง',\r\n          handler: () => {\r\n            this.qrService.generateQRCode().then(function(success) {\r\n              this.QRModal(success.file);\r\n            })\r\n            // this.transactionService.newTransaction(this.cart, this.price).subscribe(trn => {\r\n            //   this.qrService.generatePromptPayQR(trn.data).subscribe(qr => {\r\n            //     this.QRModal(qr);\r\n            //   });              \r\n            // });\r\n          }\r\n        }        \r\n      ]\r\n    });\r\n    \r\n  }\r\n\r\n  getCart() {\r\n    this.cartService.getCart().subscribe(data => this.cart = data);\r\n    this.price = this.cartService.getPrice();\r\n  }\r\n\r\n  removeFromCart(product) {\r\n    this.cartService.removeProduct(product);\r\n    this.toastService.showToast(`ลบ ${product.product_th}`, 'bottom')\r\n    this.getCart();\r\n  }\r\n\r\n  async QRModal(response) {\r\n    const modal = await this.modalController.create({\r\n      component: QrmodalComponent,\r\n      componentProps: {\r\n        'transaction': response.data\r\n      }\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n\r\n}\r\n","module.exports = \"<ion-list *ngIf=\\\"cart?.length > 0\\\">\\r\\n  <ion-list-header>\\r\\n    <ion-label>ตะกร้าสินค้า</ion-label>\\r\\n  </ion-list-header>\\r\\n\\r\\n  <ng-container *ngFor=\\\"let product of cart\\\">\\r\\n    <ion-item *ngIf=\\\"product.qty != 0\\\">\\r\\n      <ion-avatar slot=\\\"start\\\">\\r\\n        <img src=\\\"\\\">\\r\\n      </ion-avatar>\\r\\n      {{ product.product_th }}\\r\\n      <ion-badge color=\\\"primary\\\" slot=\\\"end\\\" *ngIf=\\\"product.qty > 0\\\">{{ product.qty }}</ion-badge>\\r\\n      <ion-button fill=\\\"clear\\\" color=\\\"danger\\\" slot=\\\"end\\\" *ngIf=\\\"product.qty > 0\\\" (click)=\\\"removeFromCart(product)\\\">\\r\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"close\\\" *ngIf=\\\"product.qty == 1\\\"></ion-icon>\\r\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"remove\\\" *ngIf=\\\"product.qty > 1\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n      \\r\\n    </ion-item>\\r\\n  </ng-container>\\r\\n  \\r\\n</ion-list>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NhcnQvbGlzdC9saXN0LmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-list',\r\n  templateUrl: './list.component.html',\r\n  styleUrls: ['./list.component.scss'],\r\n})\r\nexport class ListComponent implements OnInit {\r\n  @Input('cart') cart;\r\n  @Output() removeFromCartChange = new EventEmitter;\r\n  \r\n  constructor(\r\n\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    // console.log(this.cart);\r\n  }\r\n\r\n  removeFromCart(product) {\r\n    this.removeFromCartChange.emit(product);\r\n  }\r\n\r\n}\r\n","module.exports = \"<ion-item-divider>\\r\\n  <div slot=\\\"start\\\">\\r\\n    <h3>ราคารวม</h3>\\r\\n  </div>\\r\\n  <div slot=\\\"end\\\">\\r\\n    <h2>{{ price | number }} ฿</h2>\\r\\n  </div>\\r\\n</ion-item-divider>\"","module.exports = \"ion-item-divider {\\n  --padding-top: 10px;\\n  --padding-bottom: 10px; }\\n\\nion-badge {\\n  --padding-top: 10px;\\n  --padding-bottom: 10px;\\n  --padding-start: 30px;\\n  --padding-end: 30px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY2FydC9wcmljZS9DOlxcRGV2XFxxcmRlZS9zcmNcXGFwcFxcY2FydFxccHJpY2VcXHByaWNlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsbUJBQWM7RUFDZCxzQkFBaUIsRUFBQTs7QUFHbkI7RUFDRSxtQkFBYztFQUNkLHNCQUFpQjtFQUNqQixxQkFBZ0I7RUFDaEIsbUJBQWMsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2NhcnQvcHJpY2UvcHJpY2UuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taXRlbS1kaXZpZGVyIHtcclxuICAtLXBhZGRpbmctdG9wOiAxMHB4O1xyXG4gIC0tcGFkZGluZy1ib3R0b206IDEwcHg7XHJcbn1cclxuXHJcbmlvbi1iYWRnZSB7XHJcbiAgLS1wYWRkaW5nLXRvcDogMTBweDtcclxuICAtLXBhZGRpbmctYm90dG9tOiAxMHB4O1xyXG4gIC0tcGFkZGluZy1zdGFydDogMzBweDtcclxuICAtLXBhZGRpbmctZW5kOiAzMHB4O1xyXG59Il19 */\"","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-price',\r\n  templateUrl: './price.component.html',\r\n  styleUrls: ['./price.component.scss'],\r\n})\r\nexport class PriceComponent implements OnInit {\r\n  @Input('price') price;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() { }\r\n\r\n}\r\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>ชำระเงินด้วย QR</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <img src=\\\"{{qrcode}}\\\">\\n</ion-content>\\n\\n<ion-footer>\\n  <ion-row>\\n    <ion-col size=\\\"6\\\">\\n      <ion-button expand=\\\"full\\\" color=\\\"primary\\\">เสร็จสิ้น</ion-button>\\n    </ion-col>\\n    <ion-col size=\\\"6\\\">\\n      <ion-button expand=\\\"full\\\" color=\\\"danger\\\" (click)=\\\"closeModal()\\\">ยกเลิก</ion-button>\\n    </ion-col>\\n  </ion-row>  \\n</ion-footer>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NhcnQvcXJtb2RhbC9xcm1vZGFsLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, Input } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-qrmodal',\n  templateUrl: './qrmodal.component.html',\n  styleUrls: ['./qrmodal.component.scss'],\n})\nexport class QrmodalComponent {\n  // @Input() transaction;\n  @Input() testQR;\n\n  qrcode: any;\n\n  constructor(\n    private modalController: ModalController\n  ) { }\n\n  ionViewWillEnter() {\n    console.log(this.testQR);\n    this.qrcode = this.testQR;\n  }\n\n  async closeModal() {\n    await this.modalController.dismiss();\n  }\n\n}\n"],"sourceRoot":""}