<ion-header padding="true">
  <ion-toolbar  *ngIf="store">

    <ion-avatar no-margin no-padding slot="start">
      <img *ngIf="store.store_pic" [src]="'https://qrdee.co/app/'+store.store_pic">
      <img *ngIf="!store.store_pic" src="/assets/noimg.png">
    </ion-avatar>




    <ion-text>
      <BR><BR>
      <B>ร้าน {{ store.store_name }}</B>
      <ion-rating class="store-ion-rating" no-margin no-padding [rate]="rate"
      readonly="false"
      size="small"
      (rateChange)="onRateChange($event)">
      </ion-rating>
    </ion-text>

    <ion-button fill="clear" color="danger" slot="end" (click)="forceDissmiss(0);">
      <ion-icon name="ios-arrow-back"></ion-icon>Back
    </ion-button>
  </ion-toolbar>

  <!-- <ion-toolbar>
    <ion-rating no-margin no-padding [rate]="rate"
    readonly="false"
    size="small"
    (ngModelChange)="rateStore($event);">
  </ion-rating>
  </ion-toolbar> -->



</ion-header>


<ion-content>

<ion-grid *ngIf="products">
  <ion-item>
    <ion-text slot="start">
      <small>เลือกไว้แล้ว {{pick_count}} ชิ้น</small><br>
      <small> (ขั้นต่ำ {{store.free_delivery_price}} ส่งฟรี)</small>
    </ion-text>
    <ion-button fill="clear" color="primary" slot="end" (click)="startPayment();">
      <ion-icon slot="icon-only" name="ios-cash"></ion-icon> สั่งซื้อ
    </ion-button>
  </ion-item>
    <ion-row responsive-sm wrap no-margin no-padding>
      <ion-col   *ngFor="let product of products">

        <ion-card  no-margin no-padding >
          <ion-item>
            <ion-text>{{ product.product_th }}</ion-text>
            <ion-badge  color="danger"> {{product.price | number }} บาท </ion-badge>
            <ion-button fill="outline" slot="end"  (click)="selectItem(product);">เลือก</ion-button>
          </ion-item>
          <ion-card-content  no-margin no-padding *ngIf="store.store_pic">
            <ion-img   style="height:200px;" [src]="'https://qrdee.co/app/'+product.thumbnail"></ion-img>
            <ion-text *ngIf="product.details_th"><small> {{ product.details_th }} </small></ion-text>
          </ion-card-content>

          <ion-row no-margin no-padding>
            <ion-col no-margin no-padding>
            <!-- <button ion-button icon-start clear small>
            <ion-icon name="thumbs-up"></ion-icon>
            <div>12 Likes</div>
            </button> -->
            <ion-rating no-margin no-padding [rate]="rate"
              readonly="false"
              size="small"
              (rateChange)="onRateChange($event)">
            </ion-rating>
            </ion-col>
            <!-- <ion-col>
            <button ion-button icon-start clear small>
            <ion-icon name="text"></ion-icon>
            <div>4 Comments</div>
            </button>
            </ion-col> -->
            <ion-col align-self-center text-center (click)="commentPrompt();">
            <ion-note color="primary"><ion-icon name="text"></ion-icon>
              4
            </ion-note>
            </ion-col>
          </ion-row>


        </ion-card>


        <!-- <ion-card>
            <ion-col col-12 no-margin no-padding><img src="{{product.product_th}}"/></ion-col>
            <ion-col col-12 no-margin no-padding>
              <ion-card-content>
                <ion-card-title>
                  {{ product.product_th }} <ion-badge item-end>{{ product.product_th }} km</ion-badge>
                </ion-card-title>
                <p>
                  <small><rating [score]="5" [max]="5"></rating> ({{ product.product_th }})</small>
                </p>
              </ion-card-content>
            </ion-col>
        </ion-card> -->
      </ion-col>
    </ion-row>
</ion-grid>

<!-- <ion-list *ngIf="products">
    <ion-item >

      <ion-text slot="start">
        <small>เลือกไว้แล้ว {{pick_count}} ชิ้น</small>
        <small> (ขั้นต่ำ {{store.free_delivery_price}} ส่งฟรี)</small>
      </ion-text>
      <ion-button fill="clear" color="primary" slot="end" (click)="startPayment();">
        <ion-icon slot="icon-only" name="ios-cash"></ion-icon> ชำระเงิน
      </ion-button>
    </ion-item>

    <ion-item  *ngFor="let product of products">
      <ion-avatar slot="start">
        <img *ngIf="store.store_pic" [src]="'https://qrdee.co/app/'+product.thumbnail">
        <img *ngIf="!store.store_pic" src="/assets/noimg.png">
      </ion-avatar>
      <ion-text>
        <small *ngIf="product.product_th"><b>{{product.product_th}}</b></small><br>
      </ion-text>
      <ion-text slot="end">
        <small *ngIf="product.price">ราคา {{product.price | number }} บาท</small><br>
      </ion-text>
      <ion-button fill="clear" color="secondary" slot="end" (click)="selectItem(product);">
        <ion-icon slot="icon-only" name="ios-cart"></ion-icon>
      </ion-button>
    </ion-item>

</ion-list> -->



</ion-content>
