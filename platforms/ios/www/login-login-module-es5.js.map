{"version":3,"sources":["./src/app/login/login.page.html","./src/app/login/login.module.ts","./src/app/login/login.page.scss","./src/app/login/login.page.ts","./src/app/shared/services/toast.service.ts"],"names":[],"mappings":"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","file":"login-login-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>เข้าสู่ระบบ</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <!-- <div class=\\\"ion-text-center\\\" >\\n    <img src=\\\"assets/images/mapapi.png\\\" class=\\\"img_logistic\\\">\\n  </div> -->\\n\\n  <ion-img class=\\\"center\\\" src=\\\"assets/images/qrdee.png\\\"></ion-img>\\n\\n\\n\\n  <p text-center>ยินดีต้อนรับสู่ตลาดนัดเมืองช้าง</p>\\n  <ion-grid>\\n\\n    <ion-row>\\n      <ion-col size=\\\"12\\\">\\n        <ion-button class=\\\"btn1\\\" expand=\\\"block\\\"  (click)=\\\"goRegister_customer();\\\">\\n          <div class=\\\"ion-text-center\\\"  >\\n            <ion-icon name=\\\"cart\\\"></ion-icon><br/>\\n            <b>ซื้อสินค้า</b>\\n          </div>\\n        </ion-button>\\n      </ion-col>\\n    </ion-row>\\n    \\n    <ion-row>\\n      <ion-col size=\\\"6\\\">\\n          <ion-button class=\\\"btn2\\\" expand=\\\"block\\\"  (click)=\\\"goRegister_store();\\\">\\n            <div class=\\\"ion-text-center\\\"  >\\n              <ion-icon name=\\\"home\\\"></ion-icon><br/>\\n              <b>เปิดร้านใหม่</b>\\n            </div>\\n          </ion-button>\\n      </ion-col>\\n      <ion-col size=\\\"6\\\">\\n        <ion-button class=\\\"btn2\\\" expand=\\\"block\\\" (click)=\\\"goRegister_logistic();\\\">\\n          <div class=\\\"ion-text-center\\\">\\n            <ion-icon name=\\\"md-bicycle\\\"></ion-icon><br/>\\n            <b>ส่งสินค้า</b>\\n          </div>\\n        </ion-button>\\n      </ion-col>\\n  </ion-row>\\n</ion-grid>\\n\\n\\n  <ion-card>\\n    <p no-padding no-margin text-center>เข้าสู่ระบบร้านค้า</p>\\n    <form (ngSubmit)=\\\"loginForm()\\\">\\n      <ion-grid>\\n        <ion-row padding color=\\\"primary\\\" size=6 justify-content-center>\\n          <ion-col>\\n              <ion-item>\\n                <ion-input [ngModelOptions]=\\\"{standalone: true}\\\" [(ngModel)]=\\\"promptpay\\\"\\n                type=\\\"text\\\" placeholder=\\\"เบอร์โทรศัพท์\\\" ></ion-input>\\n              </ion-item>\\n              <ion-item>\\n                <ion-input  [ngModelOptions]=\\\"{standalone: true}\\\" [(ngModel)]=\\\"password\\\"\\n                type=\\\"password\\\" placeholder=\\\"รหัสผ่าน\\\"></ion-input>\\n              </ion-item>\\n              <br>\\n              <ion-button type=\\\"submit\\\" expand=\\\"full\\\"color=\\\"primary\\\" shape=\\\"round\\\"><b>เข้าสู่ระบบ</b></ion-button>\\n            </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </form>\\n\\n  </ion-card>\\n\\n\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","module.exports = \".btn1 {\\n  height: 80px;\\n  --background: #E03A3A ; }\\n\\n.btn2 {\\n  height: 70px;\\n  --background: #084eb6 ; }\\n\\n.img_logistic {\\n  width: 100px;\\n  height: 100px; }\\n\\n.app-background {\\n  --background: url('/assets/bg1.jpg') 0 0/100% 100% no-repeat; }\\n\\n.center {\\n  display: block;\\n  margin: auto;\\n  width: 40%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy90aG9uZ2NoYWkvUHJvamVjdHMvcXJkZWUvc3JjL2FwcC9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDQyxZQUFZO0VBQ1osc0JBQWEsRUFBQTs7QUFHZDtFQUNDLFlBQVk7RUFDWixzQkFBYSxFQUFBOztBQUdkO0VBQ0MsWUFBWTtFQUFFLGFBQWEsRUFBQTs7QUFFNUI7RUFDRSw0REFBYSxFQUFBOztBQUVmO0VBQ0MsY0FBYztFQUNkLFlBQVk7RUFDWixVQUFVLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYnRuMSB7XHJcblx0aGVpZ2h0OiA4MHB4O1xyXG5cdC0tYmFja2dyb3VuZDogI0UwM0EzQSA7XHJcblxyXG59XHJcbi5idG4yIHtcclxuXHRoZWlnaHQ6IDcwcHg7XHJcblx0LS1iYWNrZ3JvdW5kOiAjMDg0ZWI2IDtcclxuXHJcbn1cclxuLmltZ19sb2dpc3RpY3tcclxuXHR3aWR0aDogMTAwcHg7IGhlaWdodDogMTAwcHg7XHJcbn1cclxuLmFwcC1iYWNrZ3JvdW5ke1xyXG5cdCAtLWJhY2tncm91bmQ6IHVybCgnL2Fzc2V0cy9iZzEuanBnJykgMCAwLzEwMCUgMTAwJSBuby1yZXBlYXQ7XHJcbn1cclxuLmNlbnRlciB7XHJcbiBkaXNwbGF5OiBibG9jaztcclxuIG1hcmdpbjogYXV0bztcclxuIHdpZHRoOiA0MCU7XHJcbn1cclxuIl19 */\"","import { Component } from '@angular/core';\nimport { LoginStoreService } from './shared/login-store.service';\nimport { Router  } from '@angular/router';\nimport { NavController, LoadingController } from '@ionic/angular';\nimport { HttpClient } from '@angular/common/http';\nimport { ModalController,Events } from '@ionic/angular';\nimport { ToastService } from '../shared/services/toast.service';\nimport { Storage } from '@ionic/storage';\nimport { UserService } from '../shared/user.service';\n\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage  {\n\n   token:string ='';\n   login:any = {};\n   promptpay:string ='';\n   password:string ='';\n   // is_disabled:boolean = false;\n   usertype:string ='';\n\n  constructor(\n  \tprivate loginService: LoginStoreService,\n  \tprivate router: Router,\n    public navCtrl: NavController,\n  \tprivate http: HttpClient,\n  \tprivate modalController: ModalController,\n    private event : Events,\n    private toastService: ToastService,\n    private storage: Storage,\n    private _loading: LoadingController,\n    private _user: UserService\n  ) {\n\n    // let store = JSON.parse(localStorage.getItem('store'));\n    // if(store){\n    //   //console.log(\"already store =>\");\n    //   //console.log(store);\n    //   this.event.publish('store:changed',store);\n    //   this.router.navigateByUrl('/cart');\n    // }\n\n    // let rider = JSON.parse(localStorage.getItem('rider'));\n    // if(rider){\n    //   this.event.publish('rider:changed',rider);\n    //   this.router.navigateByUrl('/riders');\n    // }\n\n    let user = this._user.storeOrRider();\n    if(user.rider){\n      this.router.navigateByUrl('/riders');\n    }else if(user.store){\n      this.router.navigateByUrl('/cart');\n    }\n    \n  }\n\n  ionViewDidEnter() {\n\n  }\n\n  async loginForm() {\n    const loading = await this._loading.create();\n    await loading.present();\n\n    await this.loginService.logintore(this.promptpay,this.password).subscribe(trn => {\n      loading.dismiss();\n      //alert(JSON.stringify(trn));\n       console.log(trn);\n      //this.router.navigateByUrl('/cart');\n      // localStorage.setItem('store', JSON.stringify(trn));\n      // this.event.publish('store:changed',trn);\n\n      this._user.storeUser(trn,1);\n\n      this.router.navigateByUrl('/cart');\n\n    }, err=>{\n      loading.dismiss();\n      alert(\"เบอร์โทร์ หรือรหัสผ่านไม่ถูกต้อง\")\n    });\n\n  }\n\n  goRegister_store(){\n    console.log(\"Go register=====>\");\n    this.router.navigateByUrl('/register');\n  }\n\n  goRegister_logistic(){\n    this.router.navigateByUrl('/register-logistic');\n  }\n\n  goRegister_customer(){\n    console.log(\"Register customer\");\n    // let member = JSON.parse(localStorage.getItem('member'));\n    let member = this._user.getMember();\n    if(!member){\n      console.log(\"member not set....\");\n      const member = {\n        id:null,\n        mobile_number:null,\n        latitude:null,\n        longitude:null,\n        firstname:null,\n        lastname:null\n      }\n      this._user.storeMember(member);\n      // localStorage.setItem('member', JSON.stringify(member));\n      // console.log(member);\n      this.router.navigateByUrl('/customer');\n    }else{\n      console.log(\"member already set....\");\n      this.router.navigateByUrl('/customer');\n    }\n\n\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { ToastController } from '@ionic/angular';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ToastService {\n\n  constructor(\n    private toastController: ToastController\n  ) { }\n\n  async showToast(message: string, position: 'top' | 'bottom' | 'middle') {\n    const toast = await this.toastController.create({\n      message: message,\n      position: position,\n      duration: 1000,\n      color: 'dark'\n    });\n\n    toast.present();\n  }\n  async showLongToast(message: string, position: 'top' | 'bottom' | 'middle') {\n    const toast = await this.toastController.create({\n      message: message,\n      position: position,\n      duration: 30000,\n      color: 'dark'\n    });\n\n    toast.present();\n  }\n\n\n  async showToasts(message: string, position: 'top' | 'bottom' | 'middle') {\n    const toast = await this.toastController.create({\n      message: message,\n      position: position,\n      duration: 1000,\n      color: '#FFFFFF'\n    });\n\n    toast.present();\n  }\n\n\n\n  // hideToast() {\n\n  // }\n}\n"],"sourceRoot":""}